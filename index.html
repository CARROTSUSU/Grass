<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grass Simulator - Futuristic Farming</title>
</head>
<body>

  <div class="container">
    <h1>Grass Simulator - Futuristic Farming</h1>

    <p id="currency" class="info">Currency: 0 Credits</p>
    <p id="grassCount" class="info">Grass: 0</p>
    <p id="timer" class="info">Next Grass Growth: 5s</p>
    <p id="ggGems" class="info">GG GAME GEMS: 0</p>

    <table class="item-table">
      <thead>
        <tr>
          <th>Item</th>
          <th>Price</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Grass</td>
          <td>200/1</td>
          <td>
            <button class="btn" onclick="buyItem('Grass', 200)">Buy</button>
            <button class="btn" onclick="sellItem('Grass', 200)">Sell</button>
          </td>
        </tr>
        <tr>
          <td>Convert to GG GAME GEMS</td>
          <td>-</td>
          <td>
            <button class="btn" onclick="convertCreditsToGG()">Convert</button>
          </td>
        </tr>
        <tr>
          <td>Admin Add Grass</td>
          <td>-</td>
          <td>
            <button class="btn" onclick="adminAddGrass()">Add Grass</button>
          </td>
        </tr>
        <!-- Add the new buttons here -->
        <tr>
          <td>Reset</td>
          <td>-</td>
          <td>
            <button class="btn" onclick="reset()">Reset</button>
          </td>
        </tr>
        <tr>
          <td>Admin Reset Semua</td>
          <td>-</td>
          <td>
            <button class="btn" onclick="adminResetAll()">Admin Reset Semua</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    let currency = parseInt(localStorage.getItem('currency')) || 0;
    let ggGems = parseInt(localStorage.getItem('ggGems')) || 0;
    let grassCount = parseInt(localStorage.getItem('grassCount')) || 0;
    let grassGrowthRate = 0.01;
    let grassGrowthTime = 5;

    // Update display
    function updateDisplay() {
      document.getElementById('currency').textContent = `Currency: ${currency} Credits`;
      document.getElementById('grassCount').textContent = `Grass: ${grassCount}`;
      document.getElementById('timer').textContent = `Next Grass Growth: ${grassGrowthTime}s`;
      document.getElementById('ggGems').textContent = `GG GAME GEMS: ${ggGems}`;
    }

    // Grass growth mechanism
    function growGrass() {
      setInterval(() => {
        if (grassGrowthTime > 0) {
          grassGrowthTime--;
          updateDisplay();
        } else {
          if (grassCount >= 1000) {
            grassGrowthRate = 0.5;
          } else if (grassCount >= 200) {
            grassGrowthRate = 0.1;
          }
          grassCount += grassGrowthRate;
          grassGrowthTime = 5;
          updateDisplay();
        }
      }, 1000);
    }

    // Buying items
    function buyItem(item, price) {
      if (currency >= price) {
        currency -= price;
        grassCount++;
        localStorage.setItem('currency', currency);
        localStorage.setItem('grassCount', grassCount);
        alert(`You bought 1 ${item} for ${price} credits.`);
        updateDisplay();
      } else {
        alert('Not enough credits to buy.');
      }
    }

    // Selling items
    function sellItem(item, price) {
      if (grassCount > 0) {
        currency += price;
        grassCount--;
        localStorage.setItem('currency', currency);
        localStorage.setItem('grassCount', grassCount);
        alert(`You sold 1 ${item} for ${price} credits.`);
        updateDisplay();
      } else {
        alert('You have no grass to sell.');
      }
    }

    // Converting Credits to GG GAME GEMS
    function convertCreditsToGG() {
      const conversionRate = 2000;
      if (currency >= conversionRate) {
        const ggGemsToConvert = Math.floor(currency / conversionRate);
        currency -= ggGemsToConvert * conversionRate;
        ggGems += ggGemsToConvert;
        localStorage.setItem('currency', currency);
        localStorage.setItem('ggGems', ggGems);
        alert(`You converted ${ggGemsToConvert} GG GAME GEMS!`);
        updateDisplay();
      } else {
        alert('Not enough credits to convert to GG GAME GEMS.');
      }
    }

    // Admin function to add grass
    function adminAddGrass() {
      const adminPassword = "admin123";
      const enteredPassword = prompt("Please enter the admin password to add grass:");

      if (enteredPassword === adminPassword) {
        const amountToAdd = 500;
        grassCount += amountToAdd;
        localStorage.setItem('grassCount', grassCount);
        alert(`${amountToAdd} grass has been added!`);
        updateDisplay();
      } else {
        alert('Incorrect password! You are not authorized to add grass.');
      }
    }

    // Fungsi untuk reset data user
    function reset() {
      grassCount = 0;
      currency = 0;
      ggGems = 0;
      localStorage.setItem('currency', currency);
      localStorage.setItem('grassCount', grassCount);
      localStorage.setItem('ggGems', ggGems);
      alert('Data telah direset!');
      updateDisplay();
    }

    // Fungsi admin untuk reset semua data
    function adminResetAll() {
      const adminPassword = "admin123";
      const enteredPassword = prompt("Masukkan password admin untuk reset semuanya:");

      if (enteredPassword === adminPassword) {
        grassCount = 0;
        currency = 0;
        ggGems = 0;
        localStorage.clear();  // Menghapus semua data dari localStorage
        alert('Semua data telah direset!');
        updateDisplay();
      } else {
        alert('Password salah! Anda tidak memiliki hak untuk mereset semuanya.');
      }
    }

    // Initialize grass growth and display
    growGrass();
    updateDisplay();
  </script>

</body>
</html>
